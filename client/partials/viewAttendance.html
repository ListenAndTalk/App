<div class="container-fluid">

    <div class="panel">
      <div class="panel-body">

        <h1>View Attendance History</h1>
          <div class="row">
            <div class="col-sm-6">
              <h3>Select Report Type</h3>
              <div class="row">
                <div class="col-sm-10">
                  <input type="checkbox" ng-model="show.date"> View 
                  attendance for all students on a single day
                  <div class="row">
                    <div class="col-sm-6 col-sm-offset-1">
                      date (yyyy-mm-dd): <input type="date" ng-model="report.date"> 
                      <button class="btn" ng-click="getSingleDateReport(report)">Get Report</button>
                    </div>
                  </div>
                </div>
              </div>
                <div class="row">
                  <div class="col-sm-10">
                    <input type="checkbox" ng-model="show.student" ng-click="getSingleStudentReport()"> View attendance for a single student
                  </div>
                  <div class="col-sm-10">
                    <select ng-if="show.student" ng-model="selectedStudent" ng-click="getReport(selectedStudent)">
                      <option ng-repeat="student in students" value="{{student.id}}">{{student.name_last}}, {{student.name_first}}</option>
                    </select>
                  </div>
                </div>
              </div>
          </div>

        <table ng-if="show.date"  class="table table-striped">
          <tr>
            <th>ID</th>
            <th> Name</th>
            <th>Last Name</th>
            <th>Status</th>
            <th>Activity</th>
          </tr>
          <tr ng-repeat="student in history">
            <td>{{student.id}}</td>
            <td>{{student.name_first}} {{student.name_last}}</td>
            <td>{{student.status_id}}</td>
            <td>{{student.activity_id}}</td>
          </tr>
        </table>  

        <table ng-if="show.student"  class="table table-striped">
          <tr>
            <th>Date</th>
            <th>Activity</th>
            <th>Status</th>
          </tr>
          <tr ng-repeat="item in history">
            <td>{{item.date | date: shortDate}}</td>
            <td>{{item.activity_id}}</td>
            <td>{{item.status_id}}</td>
          </tr>
        </table>  
          
          
          

<!--
        <label>Search: <input ng-model="searchText"></label>
        <table class="table table-striped">
          <tr>
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
          </tr>
          <tr ng-repeat="student in students | filter: searchText">
            <td>{{student.id}}</td>
            <td>{{student.name_first}}</td>
            <td>{{student.name_last}}</td>
          </tr>
        </table>
-->
      </div>
    </div>

</div>
